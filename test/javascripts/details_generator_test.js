describe("details generator", function () {
    var injector, detailsGenerator;

    beforeEach(function () {
        injector = angular.injector(["ng", "ngMock", "moBilling"]);
        detailsGenerator = injector.get("detailsGenerator");
    });

    it("returns empty array for empty claim", function () {
        expect(detailsGenerator({})).toEqual([]);
    });

    it("returns correct codes #1", function () {
        expect(detailsGenerator({
            admission_on: "2014-06-09",
            first_seen_on: "2014-06-09",
            last_seen_on: "2014-07-20",
            last_seen_discharge: true,
            most_responsible_physician: true,
            consult_type: "general_er"
        })).toEqual([
            { day : "2014-06-09", code : "A135", autogenerated : true },
            { day : "2014-06-09", code : "E082", autogenerated : true },
            { day : "2014-06-10", code : "C122", autogenerated : true },
            { day : "2014-06-10", code : "E083", autogenerated : true },
            { day : "2014-06-11", code : "C123", autogenerated : true },
            { day : "2014-06-11", code : "E083", autogenerated : true },
            { day : "2014-06-12", code : "C132", autogenerated : true },
            { day : "2014-06-12", code : "E083", autogenerated : true },
            { day : "2014-06-13", code : "C132", autogenerated : true },
            { day : "2014-06-13", code : "E083", autogenerated : true },
            { day : "2014-06-14", code : "C132", autogenerated : true },
            { day : "2014-06-14", code : "E083", autogenerated : true },
            { day : "2014-06-15", code : "C132", autogenerated : true },
            { day : "2014-06-15", code : "E083", autogenerated : true },
            { day : "2014-06-16", code : "C132", autogenerated : true },
            { day : "2014-06-16", code : "E083", autogenerated : true },
            { day : "2014-06-17", code : "C132", autogenerated : true },
            { day : "2014-06-17", code : "E083", autogenerated : true },
            { day : "2014-06-18", code : "C132", autogenerated : true },
            { day : "2014-06-18", code : "E083", autogenerated : true },
            { day : "2014-06-19", code : "C132", autogenerated : true },
            { day : "2014-06-19", code : "E083", autogenerated : true },
            { day : "2014-06-20", code : "C132", autogenerated : true },
            { day : "2014-06-20", code : "E083", autogenerated : true },
            { day : "2014-06-21", code : "C132", autogenerated : true },
            { day : "2014-06-21", code : "E083", autogenerated : true },
            { day : "2014-06-22", code : "C132", autogenerated : true },
            { day : "2014-06-22", code : "E083", autogenerated : true },
            { day : "2014-06-23", code : "C132", autogenerated : true },
            { day : "2014-06-23", code : "E083", autogenerated : true },
            { day : "2014-06-24", code : "C132", autogenerated : true },
            { day : "2014-06-24", code : "E083", autogenerated : true },
            { day : "2014-06-25", code : "C132", autogenerated : true },
            { day : "2014-06-25", code : "E083", autogenerated : true },
            { day : "2014-06-26", code : "C132", autogenerated : true },
            { day : "2014-06-26", code : "E083", autogenerated : true },
            { day : "2014-06-27", code : "C132", autogenerated : true },
            { day : "2014-06-27", code : "E083", autogenerated : true },
            { day : "2014-06-28", code : "C132", autogenerated : true },
            { day : "2014-06-28", code : "E083", autogenerated : true },
            { day : "2014-06-29", code : "C132", autogenerated : true },
            { day : "2014-06-29", code : "E083", autogenerated : true },
            { day : "2014-06-30", code : "C132", autogenerated : true },
            { day : "2014-06-30", code : "E083", autogenerated : true },
            { day : "2014-07-01", code : "C132", autogenerated : true },
            { day : "2014-07-01", code : "E083", autogenerated : true },
            { day : "2014-07-02", code : "C132", autogenerated : true },
            { day : "2014-07-02", code : "E083", autogenerated : true },
            { day : "2014-07-03", code : "C132", autogenerated : true },
            { day : "2014-07-03", code : "E083", autogenerated : true },
            { day : "2014-07-04", code : "C132", autogenerated : true },
            { day : "2014-07-04", code : "E083", autogenerated : true },
            { day : "2014-07-05", code : "C132", autogenerated : true },
            { day : "2014-07-05", code : "E083", autogenerated : true },
            { day : "2014-07-06", code : "C132", autogenerated : true },
            { day : "2014-07-06", code : "E083", autogenerated : true },
            { day : "2014-07-07", code : "C132", autogenerated : true },
            { day : "2014-07-07", code : "E083", autogenerated : true },
            { day : "2014-07-08", code : "C132", autogenerated : true },
            { day : "2014-07-08", code : "E083", autogenerated : true },
            { day : "2014-07-09", code : "C132", autogenerated : true },
            { day : "2014-07-09", code : "E083", autogenerated : true },
            { day : "2014-07-10", code : "C132", autogenerated : true },
            { day : "2014-07-10", code : "E083", autogenerated : true },
            { day : "2014-07-11", code : "C132", autogenerated : true },
            { day : "2014-07-11", code : "E083", autogenerated : true },
            { day : "2014-07-12", code : "C132", autogenerated : true },
            { day : "2014-07-12", code : "E083", autogenerated : true },
            { day : "2014-07-13", code : "C132", autogenerated : true },
            { day : "2014-07-13", code : "E083", autogenerated : true },
            { day : "2014-07-14", code : "C132", autogenerated : true },
            { day : "2014-07-14", code : "E083", autogenerated : true },
            { day : "2014-07-15", code : "C137", autogenerated : true },
            { day : "2014-07-15", code : "E083", autogenerated : true },
            { day : "2014-07-16", code : "C137", autogenerated : true },
            { day : "2014-07-16", code : "E083", autogenerated : true },
            { day : "2014-07-17", code : "C137", autogenerated : true },
            { day : "2014-07-17", code : "E083", autogenerated : true },
            { day : "2014-07-18", code : "C137", autogenerated : true },
            { day : "2014-07-18", code : "E083", autogenerated : true },
            { day : "2014-07-19", code : "C137", autogenerated : true },
            { day : "2014-07-19", code : "E083", autogenerated : true },
            { day : "2014-07-20", code : "C124", autogenerated : true },
            { day : "2014-07-20", code : "E083", autogenerated : true }
        ]);
    });
});
