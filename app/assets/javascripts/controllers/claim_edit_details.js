angular.module("moBilling.controllers")

    .controller("ClaimEditDetailsController", function ($scope, serviceCodes) {
        $scope.serviceCodes = {
            displayKey: "name",
            source: serviceCodes.ttAdapter()
        };

        $scope.add = function (attributes) {
            $scope.claim.daily_details.push(angular.extend({ autogenerated: false }, attributes));
        };

        $scope.remove = function (detail) {
            var index = $scope.claim.daily_details.indexOf(detail);

            $scope.claim.daily_details.splice(index, 1);
        };

        $scope.isTimeVisible = function (detail) {
            return detail && (detail.code === "A130" || detail.code === "C130");
        };
    });
